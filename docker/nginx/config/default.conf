server {
    listen 80 default_server;
    #listen 443 default_server ssl http2;
    server_name _;

    #ssl_certificate /etc/nginx/default_ssl/nginx.crt;
    #ssl_certificate_key /etc/nginx/default_ssl/nginx.key;

    root /var/www/html;
    access_log off;
    log_not_found off;
}

server {
    listen 8025;
    server_name _;

    satisfy  any;
        allow 192.168.1.0/24;
        deny all;
        auth_basic              "Restricted";
        auth_basic_user_file    .htpasswd;

    location / {
        proxy_pass http://mailhog:8025;
        access_log off;
    }
}

server {
    listen 8080;
    server_name _;

    satisfy  any;
    allow 192.168.1.0/24;
    deny all;
    auth_basic              "Restricted";
    auth_basic_user_file    .htpasswd;

    location / {
        proxy_pass http://adminer:8080;
        access_log off;
    }
}
